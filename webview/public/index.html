<!DOCTYPE html>
<!-- <html> -->

<script type='text/javascript' src="alpinejs/cdn.js" defer></script>

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">

  <title>Zap Wallet</title>
</head>

<body>
  <script src="bootstrap/js/bootstrap.bundle.js"></script>

  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" onclick="showWallet()">
        Wallet
      </a>
      <a class="navbar-brand" href="#" onclick="showConfig()">
        Config
      </a>
      <a class="navbar-brand" href="#" onclick="showStake()">
        Stake
      </a>
      <a class="navbar-brand" href="#" onclick="showMine()">
        Mine
      </a>
      <a class="navbar-brand" href="#" onclick="showDispute()">
        Dispute
      </a>
    </div>
  </nav>

  <form x-data="minerConfig()" @submit.prevent="submitData">
    <div class="container">
      <div class="mb-3">
        <label for="publicKey" class="form-label">Public Key</label>
        <input type="text" class="form-control" id="publicKey" aria-describedby="publicKeyHelp"
          x-model="configData.publickey">
        <!-- <div id="publicKeyHelp" class="form-text">We'll never share your public key with anyone else.</div> -->
      </div>
      <div class="mb-3">
        <label for="privateKey" class="form-label">Private Key</label>
        <input type="text" class="form-control" id="privateKey" aria-describedby="privateKeyHelp"
          x-model="configData.privatekey">
        <!-- <div id="privateKeyHelp" class="form-text">We'll never share your private key with anyone else.</div> -->
      </div>

      <label for="clientTimeout" class="form-label">ETH Client Timeout</label>
      <input id="clientTimeout" type="text" x-model="configData.clientTimeout">

      <label for="trackerCycle" class="form-label">Tracker Cycle</label>
      <input id="trackerCycle" list="cycles" x-model="configData.trackerCycle">
      <datalist id="cycles">
        <option value="10s">
        <option value="30s" selected>
        <option value="60s">
        <option value="90s">
      </datalist>

      <div class="trackerOptions">
        <label for="balance" class="form-label">Balance</label>
        <input id="balance" type="checkbox" x-model="configData.balance" checked>

        <label for="disputeStatus" class="form-label">Dispute Status</label>
        <input id="disputeStatus" type="checkbox" x-model="configData.disputeStatus" checked>

        <label for="gas" class="form-label">Gas</label>
        <input id="gas" type="checkbox" x-model="configData.gas" checked>

        <label for="tokenBalance" class="form-label">Token Balance</label>
        <input id="tokenBalance" type="checkbox" x-model="configData.tokenBalance" checked>

        <label for="indexers" class="form-label">Indexers</label>
        <input id="indexers" type="checkbox" x-model="configData.indexers" checked>

        <label for="currentVariables" class="form-label">Current Variables</label>
        <input id="currentVariables" type="checkbox" x-model="configData.currentVariables" checked>

        <label for="newCurrentVariables" class="form-label">New Current Variables</label>
        <input id="newCurrentVariables" type="checkbox" x-model="configData.newCurrentVariables" checked>

        <label for="disputeChecker" class="form-label">Dispute Checker</label>
        <input id="disputeChecker" type="checkbox" x-model="configData.disputeChecker" checked>

        <label for="tallyVotes" class="form-label">Tally Votes</label>
        <input id="tallyVotes" type="checkbox" x-model="configData.tallyVotes" checked>
      </div>

      <button type="submit" class="btn btn-primary">Connect</button>
    </div>
  </form>

  <script>
    function minerConfig() {
      return {
        configData: {
          publickey: '',
          privatekey: '',
          balance: true,
          disputeStatus: true,
          gas: true,
          tokenBalanace: true,
          indexers: true,
          currentVariables: true,
          newCurrentVariables: true,
          disputeChecker: true,
          tallyVotes: true,
          trackerCycle: '30s',
          clientTimeout: ''
        },
        submitData() {
          saveConfigs(this.configData)
        }
      }
    }

    // var localConfig = {
    //   "CONTRACT_ADDRESS": 0xDe0151BC25867D8Bf163f60cffce7E44eC2da8d6,
    //   "DB_FILE": "zapDB",
    //   "DISPUTE_TIME_DELTA": "600s",
    //   "ETH_CLIENT_TIMEOUT": 3000,
    //   "GAS_MAX": 30,
    //   "GAS_MULTIPLIER": 1,
    //   "NODE_URL": "https://localhost:8545/",
    //   "PUBLIC_ADDRESS": "0x0B0af840d8FC3fdBA2f127533909398E18D7e23b",
    //   "SERVER_HOST": "internal-testNetALB-875749922.us-east-2.elb.amazonaws.com",
    //   "SERVER_PORT": "5007",
    //   "SERVER_WHITELIST": ["0x0B0af840d8FC3fdBA2f127533909398E18D7e23b"],
    //   "TRACKER_CYCLE": "100s",
    //   // "TRACKERS": ["balance", "disputeStatus", "gas", "tokenBalance", "indexers", "newCurrentVariables", "currentVariables"],
    //   "USE_GPU": false,
    //   "VAULT_ADDRESS": "0xAF2d3caf27B17009e10eeb2D81348997c1D28680",
    //   "ZAP_TOKEN_ADDRESS": "0x09d8AF358636D9BCC9a3e177B66EB30381a4b1a8"
    // }



  </script>
</body>

<!-- </html> -->