<!doctype html>
<html>
<script src="bootstrap/js/bootstrap.bundle.js"></script>
<script type='text/javascript' src="alpinejs/cdn.js" defer></script>
<script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" onclick="showWallet()">
                Wallet
            </a>
            <a class="navbar-brand" href="#" onclick="showConfig()">
                Config
            </a>
            <a class="navbar-brand" href="#" onclick="showStake()">
                Stake
            </a>
            <a class="navbar-brand" href="#" onclick="showMine()">
                Mine
              </a>
        </div>
    </nav>

    <button class="mine-button" id="startMine" onclick="handleMine()">
        Start Mining
    </button>

    <button class="mine-button" id="stopMine" onclick="stopMine()">
        Stop Mining
    </button>

    <div class="mining-log">
        <h3>Mining Logs</h3>
        <textarea id="logs"></textarea>
        <!-- <p><iframe src="miningLogs.html"></iframe></p> -->
    </div>
</body>

<script>
    var index = 0;

    async function handleMine() {
        startMine();
        logs();
    }

    async function logs() {
        while (true) {
            await new Promise(r => setTimeout(r, 2000));
            var content = await showLogs(index);
            index += content.split(/\r\n|\r|\n/).length;
            document.getElementById("logs").innerHTML = document.getElementById("logs").innerHTML + "\n" + content;
        }
    }
</script>

</html>